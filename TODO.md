# TODO List

---

### Back
- [x] Сделать DTO и Mapper для всех сущностей
- [x] Создать все контроллеры
  - [x] Чат
  - [x] Сообщения
  - [x] Пользователи
  - [x] Авторизация
- [x] Создать все сервисы
    - [x] Чат
    - [x] Сообщения
    - [x] Пользователи

- [x] Авторизация spring
    - [x] Генерация токена
    - [x] Проверка доступа к ресурсу

- [x] Задокументировать swagger

- [x] добавление owner'а чата
- [ ] проверка прав доступа к операциям
  - [x] чаты
  - [ ] пользователи
  - [ ] сообщения

- [ ] Реализовать WebSocket для чатов
---

### Front
- [x] создать базис SPA
- [x] реализовать все сервисы
- [ ] все компоненты отображения
  - [x] список чатов
  - [x] список сообщений
  - [x] создание чата 
  - [x] создание сообщения
  - [x] удаление чата
  - [x] удаление сообщения
  - [x] редактирование чата
  - [x] редактирование сообщения
  - [x] добавление/удаление пользователя из чата
  - [x] профиль/редактирование
    
- [x] проверка работы с загрузкой
- [x] страницы авторизации
- [x] работа с сессией
- [x] Сгенерировать по swagger angular-client-service

- [x] Внедрить сгенерированные сервисы и dto
    - [x] auth
    - [x] user
    - [x] chat
    - [x] message

---

### Недочеты:
- [ ] в self и private можно добавлять юзеров (нельзя)
- [x] Структироровать дто
- [ ] Почистить импорты

---


### Спецификация API для мессенджера

#### **Аутентификация**

- `POST /auth/login` — Вход, получение токена

#### **Пользователи**

- `GET /users/{id}` — Получение информации о пользователе
- `GET /users` — Все пользователи
- `POST /users/register` — Создание пользователя
- `DELETE /users/{id}` — Удаление пользователя

#### **Чаты**

- `POST /chats` — Создание нового чата
- `GET /chats/{id}` — Получение информации о чате
- `GET /chats` — Список чатов пользователя
- `POST /chats/{id}/join` — Добавление пользователя в чат
- `DELETE /chats/{id}/leave` — Удаление пользователя из чата

#### **Сообщения**

- `POST /chats/{id}/messages` — Отправка сообщения в чат
- `GET /chats/{id}/messages` — Получение списка сообщений чата

#### **WebSocket (STOMP)**

- `/topic/chats/{chatId}` — Подписка на новые сообщения в чате
- `/app/chats/{chatId}/send` — Отправка сообщения через WebSocket